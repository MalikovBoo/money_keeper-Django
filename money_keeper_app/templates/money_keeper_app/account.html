{% extends 'base.html' %}

{% block content %}

<div class="column">
    <div class="block">
      <div class="card">
          <div class="card-content">
            <div class="media">
              <div class="media-content">
                <p class="title is-5">
                  Account: {{ account.account_name }}
                </p>
                <p class="title is-6">
                  Amount: {{ account.amount }}
                </p>
              </div>
            </div>
                <a href="{% url 'money_keeper_app:upd_account' account.id %}">
                    <button class="button is-info ">
                        Update
                    </button>
                </a>
                <a href="{% url 'money_keeper_app:add_income'  account.id %}">
                    <button class="button is-info ">
                        Add income
                    </button>
                </a>
                <a href="{% url 'money_keeper_app:add_expense'  account.id %}">
                    <button class="button is-info ">
                        Add expense
                    </button>
                </a>
          </div>
      </div>
    </div>
   <div class="block">
      {% for payment in payments %}
      <div class="card">
          <div class="card-content">
            <div class="media">
              <div class="media-content">
                {% if payment.income %}
                    <p class="title is-5">
                      Income: +{{ payment.count }} ({{payment.created_at}})
                    </p>
                    <p class="title is-6">
                      {{ payment.income }}
                    </p>
                  {% else %}
                    <p class="title is-5">
                      Expense: -{{ payment.count }} ({{payment.created_at}})
                    </p>
                    <p class="title is-6">
                      {{ payment.expense }}
                    </p>
                  {% endif %}
              </div>
            </div>
          </div>
      </div>
      {% endfor %}
    </div>

</div>

<div class="column is-one-third">

    <div class="block">
        <a href="{% url 'money_keeper_app:account' account.id %}">
            <button class="button is-info is-outlined is-fullwidth">
                All payments
            </button>
        </a>
    </div>
    <div class="block">
        <a href="{% url 'money_keeper_app:income_list' account.id %}">
            <button class="button is-info is-fullwidth">
                Incomes
            </button>
        </a>
    </div>
    <div class="block">
        <a href="{% url 'money_keeper_app:expense_list' account.id %}">
            <button class="button is-info is-fullwidth">
                Expenses
            </button>
        </a>
    </div>

</div>

{% endblock content %}